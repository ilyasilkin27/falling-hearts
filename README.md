# üíï –ü–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ DOM API –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ JavaScript.

–ù–∏–∂–µ ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–∞—Ä–∫–∞—Å (scaffold) –¥–ª—è `main.js`, –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏.

## –ö–æ—Ä–æ—Ç–∫–æ ‚Äî —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è

- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å `#container` (–¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫) –∏ `#toggle` (–∫–Ω–æ–ø–∫–∞).
- –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É —Å—Ç–∞—Ä—Ç—É–µ—Ç "–¥–æ–∂–¥—å" —Å–µ—Ä–¥–µ—á–µ–∫: –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π `<span class="heart">`.
- –°–µ—Ä–¥–µ—á–∫–æ –ø–∞–¥–∞–µ—Ç –≤–Ω–∏–∑ —Å –ø–æ–º–æ—â—å—é CSS-–∞–Ω–∏–º–∞—Ü–∏–∏, –∏–º–µ–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π emoji, –ø–æ–∑–∏—Ü–∏—é –ø–æ X, —Ä–∞–∑–º–µ—Ä, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–µ–±–æ–ª—å—à–æ–π –¥—Ä–µ–π—Ñ –ø–æ –æ—Å–∏ X.
- –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–¥–∞–ª—è—Ç—å—Å—è –∏–∑ DOM.

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç (–≤—Ö–æ–¥ / –≤—ã—Ö–æ–¥ / –æ—à–∏–±–∫–∏)

- –í—Ö–æ–¥: —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ HTML —ç–ª–µ–º–µ–Ω—Ç—ã `#container` –∏ `#toggle`.
- –í—ã—Ö–æ–¥: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã `.heart`, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–¥–∞–ª—è—é—â–∏–µ—Å—è –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏.
- –û—à–∏–±–∫–∏: –µ—Å–ª–∏ `#container` –∏–ª–∏ `#toggle` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚Äî —Å–∫—Ä–∏–ø—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –ª–æ–º–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å.

## –í–∞–∂–Ω—ã–µ edge cases

- –ë—ã—Å—Ç—Ä–æ–µ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –Ω–µ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤.
- –°–æ–±—ã—Ç–∏–µ `animationend` –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö ‚Äî –Ω—É–∂–µ–Ω —Ä–µ–∑–µ—Ä–≤–Ω—ã–π `setTimeout`.
- –≠–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω –≤—Ä—É—á–Ω—É—é —Ä–∞–Ω—å—à–µ —Ç–∞–π–º–∞—É—Ç–∞ ‚Äî –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏.
- –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∏–¥–∏–º—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫.

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—á—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ `main.js`)

1) –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ö –Ω–∞–ª–∏—á–∏–µ:

```js
const container = document.querySelector('#container');
const button = document.querySelector('#toggle');

if (!container || !button) {
	console.warn('–ù–µ –Ω–∞–π–¥–µ–Ω—ã #container –∏–ª–∏ #toggle –≤ DOM. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ index.html.');
}
```

2) –û–±—ä—è–≤–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:

```js
let raining = false;
let intervalId = null;
const EMOJIS = ['‚ù§Ô∏è','üíô','üíö','üíõ','üíú','üíñ'];
```

3) –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `createHeart()`:

- –°–æ–∑–¥–∞—ë—Ç `span` —Å –∫–ª–∞—Å—Å–æ–º `heart` –∏ —Å–ª—É—á–∞–π–Ω—ã–º emoji.
- –°—á–∏—Ç–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
	- `left` –≤ vw (0..100)
	- `size` –≤ px (–ø—Ä–∏–º–µ—Ä–Ω–æ 12..32)
	- `duration` –≤ —Å–µ–∫ (–ø—Ä–∏–º–µ—Ä–Ω–æ 3..6)
	- `drift` –≤ vw (–ø—Ä–∏–º–µ—Ä–Ω–æ -10..+10)
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `--duration`, `--start-left`, `--drift`.
- –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ `container`.
- –í–µ—à–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `animationend` –∏ —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç, –µ—Å–ª–∏ `e.animationName === 'fall'`.
- –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π `setTimeout((duration*1000)+1500)` –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ `animationend` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.
- –û—á–∏—â–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ç–∞–π–º–∞—É—Ç, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª—ë–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `MutationObserver` –∏–ª–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤—Ä—É—á–Ω—É—é).

4) –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –Ω–∞ –∫–Ω–æ–ø–∫–µ `#toggle`:

- –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏: `raining = true`, –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ (`üíî –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å`), –≤—ã–∑—ã–≤–∞–µ–º `createHeart()` —Å—Ä–∞–∑—É, –∏ –∑–∞–ø—É—Å–∫–∞–µ–º `intervalId = setInterval(createHeart, 1000)` (–∏–ª–∏ 500–º—Å –ø–æ –∂–µ–ª–∞–Ω–∏—é –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è).
- –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏: `raining = false`, –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ (`üíñ –ó–∞–ø—É—Å—Ç–∏—Ç—å`), `clearInterval(intervalId)`.

5) –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:

- –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–¥–µ—á–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞—é—Ç.
- –í DevTools ‚Üí Console –Ω–µ—Ç –æ—à–∏–±–æ–∫.
- –ë—ã—Å—Ç—Ä–æ –≤–∫–ª—é—á–∞–π—Ç–µ/–≤—ã–∫–ª—é—á–∞–π—Ç–µ ‚Äî –≤ Elements –Ω–µ –¥–æ–ª–∂–Ω–æ —Ä–µ–∑–∫–æ —Ä–∞—Å—Ç–∏ —á–∏—Å–ª–æ `<span>`.

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

1. –û—Ç–∫—Ä—ã—Ç—å `index.html`.
2. –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –¥–æ–∂–¥—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools (Console –∏ Elements).
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è.

